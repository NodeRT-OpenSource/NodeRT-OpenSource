yarn run v1.22.17
$ yarn build
$ rm -rf dist/ && tsc --noEmit
$ node esbuild.js
$ node ./dist/bin/nodeprof-test.js /home/soulike/NodeALDataset/explore/WebSocket-Node-a2cd306/ node_modules/.bin/tape 'test/unit/*.js'
TAP version 13
# Drop TCP Connection Before server accepts the request
ok 1 Request received
ok 2 Server should emit connect event
ok 3 Connection should emit close event
ok 4 Close reason code should be 1006
ok 5 Description should be correct
# Drop TCP Connection Before server accepts the request
ok 6 Request received
ok 7 Server should emit connect event
ok 8 Connection should emit close event
ok 9 Close reason code should be 1006
ok 10 Description should be correct
# Issue 195 - passing number to connection.send() shouldn't throw
/home/soulike/NodeALDataset/explore/WebSocket-Node-a2cd306/test/scripts/echo-server.js
ok 11 connected
ok 12 should not throw
# Issue 195 - passing number to connection.send() shouldn't throw
/home/soulike/NodeALDataset/explore/WebSocket-Node-a2cd306/test/scripts/echo-server.js
ok 13 connected
ok 14 should not throw
# Request can only be rejected or accepted once.
ok 15 First call to accept() should succeed.
ok 16 Second call to accept() should throw.
ok 17 Call to reject() after accept() should throw.
ok 18 First call to reject() should succeed.
ok 19 Second call to reject() should throw.
ok 20 Call to accept() after reject() should throw.
# Protocol mismatch should be handled gracefully
# setup
# mismatched protocol connection
ok 21 request.accept() should throw
ok 22 connectFailed event should be emitted on client
# teardown
# Request can only be rejected or accepted once.
ok 23 First call to accept() should succeed.
ok 24 Second call to accept() should throw.
ok 25 Call to reject() after accept() should throw.
ok 26 First call to reject() should succeed.
ok 27 Second call to reject() should throw.
ok 28 Call to accept() after reject() should throw.
# Protocol mismatch should be handled gracefully
# setup
# mismatched protocol connection
ok 29 request.accept() should throw
ok 30 connectFailed event should be emitted on client
# teardown
# W3CWebSockets adding event listeners with ws.onxxxxx
/home/soulike/NodeALDataset/explore/WebSocket-Node-a2cd306/test/scripts/echo-server.js
ok 31 onopen should be called first
ok 32 onmessage should be called second
ok 33 Received message data should match sent message data.
ok 34 onclose should be called last
# W3CWebSockets adding event listeners with ws.addEventListener
/home/soulike/NodeALDataset/explore/WebSocket-Node-a2cd306/test/scripts/echo-server.js
ok 35 "open" should be fired first
ok 36 "message" should be fired second
ok 37 Received message data should match sent message data.
ok 38 "close" should be fired
ok 39 "close" should be fired one more time
# W3CWebSockets adding event listeners with ws.onxxxxx
/home/soulike/NodeALDataset/explore/WebSocket-Node-a2cd306/test/scripts/echo-server.js
ok 40 onopen should be called first
ok 41 onmessage should be called second
ok 42 Received message data should match sent message data.
ok 43 onclose should be called last
# W3CWebSockets adding event listeners with ws.addEventListener
/home/soulike/NodeALDataset/explore/WebSocket-Node-a2cd306/test/scripts/echo-server.js
ok 44 "open" should be fired first
ok 45 "message" should be fired second
ok 46 Received message data should match sent message data.
ok 47 "close" should be fired
ok 48 "close" should be fired one more time
# Serializing a WebSocket Frame with no data
ok 49 should not throw an error
ok 50 Generated bytes should be correct
# Serializing a WebSocket Frame with no data
ok 51 should not throw an error
ok 52 Generated bytes should be correct
AsyncContext: 0.048s
LastExpression: 0.008s
Iterator: 0.025s
Array: 0.089s
Set: 0.01s
Map: 0.011s
Object: 1.009s
FileHandle: 0.006s
FsAsync: 0.023s
FsSync: 0.03s
FsPromises: 0.01s
ArrayBuffer: 0.019s
Buffer: 1.119s
DataView: 0.014s
TypedArray: 0.044s
Primitive: 1.231s
HttpAgent: 0.003s
HttpIncomingMessage: 0.005s
HttpOutgoingMessage: 0.015s
Http: 0.033s
Net: 0.085s
Stream: 0.007s
EventEmitter: 0.128s
Crypto: 0.135s
Zlib: 0.024s
StringDecoder: 0.012s
JSON: 0s
RaceDetector: 1.751s
analysis load: 1.718s
entry: 10.059s
eventCount: 109
raceCount: 12
filteredFPCount: 2590
ResourceCount: 3813
ResourceOperationCount: 17628

1..52
# tests 52
# pass  52

# ok

analysis: 14.775s
Done in 17.37s.
